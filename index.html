<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè¢ H·ªá th·ªëng Qu·∫£n l√Ω H·ª£p ƒë·ªìng & T√†i ch√≠nh</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <header>
        <h1>üè¢ H·ªá th·ªëng Qu·∫£n l√Ω H·ª£p ƒë·ªìng & T√†i ch√≠nh</h1>
        <p>Theo d√µi h·ª£p ƒë·ªìng, doanh thu, chi ph√≠ v√† b√°o c√°o t·ªïng h·ª£p</p>
    </header>

    <nav>
        <ul>
            <li><a href="#projects">üìÇ D·ª± √°n</a></li>
            <li><a href="#contracts">üìã H·ª£p ƒë·ªìng</a></li>
            <li><a href="#revenue">üí∞ Doanh thu</a></li>
            <li><a href="#expenses">üí∏ Chi ph√≠</a></li>
            <li><a href="#reports">üìä B√°o c√°o</a></li>
            <li><a href="#overview">üéØ T·ªïng quan</a></li>
        </ul>
    </nav>

    <main>
        <!-- Qu·∫£n l√Ω D·ª± √°n -->
        <section id="projects">
            <h2>üìÇ Qu·∫£n l√Ω D·ª± √°n</h2>
            <div class="form-container">
                <form id="projectForm">
                    <label for="projectName">T√™n d·ª± √°n:</label>
                    <input type="text" id="projectName" name="projectName" required>
                    <label for="projectStartDate">Ng√†y b·∫Øt ƒë·∫ßu:</label>
                    <input type="date" id="projectStartDate" name="projectStartDate" required>
                    <label for="projectEndDate">Ng√†y k·∫øt th√∫c:</label>
                    <input type="date" id="projectEndDate" name="projectEndDate" required>
                    <button type="submit">‚ûï Th√™m d·ª± √°n</button>
                </form>
            </div>
            <table id="projectTable">
                <thead>
                    <tr>
                        <th>T√™n d·ª± √°n</th>
                        <th>Ng√†y b·∫Øt ƒë·∫ßu</th>
                        <th>Ng√†y k·∫øt th√∫c</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <div id="projectDetails" class="details-container">
                <h3>Chi ti·∫øt d·ª± √°n:</h3>
                <select id="selectedProject" name="selectedProject" onchange="updateProjectDetails()">
                    <option value="">Ch·ªçn d·ª± √°n</option>
                </select>
                <table id="projectDetailTable">
                    <thead>
                        <tr>
                            <th>S·ªë h·ª£p ƒë·ªìng</th>
                            <th>T·ªïng doanh thu</th>
                            <th>T·ªïng chi ph√≠</th>
                            <th>L·ª£i nhu·∫≠n</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <button id="exportProjects">Xu·∫•t Excel</button>
        </section>

        <!-- Qu·∫£n l√Ω H·ª£p ƒë·ªìng -->
        <section id="contracts">
            <h2>üìã Qu·∫£n l√Ω H·ª£p ƒë·ªìng</h2>
            <div class="form-container">
                <form id="contractForm">
                    <label for="project">D·ª± √°n:</label>
                    <select id="project" name="project" required></select>
                    <label for="contractName">T√™n h·ª£p ƒë·ªìng:</label>
                    <input type="text" id="contractName" name="contractName" required>
                    <label for="partner">ƒê·ªëi t√°c:</label>
                    <input type="text" id="partner" name="partner" required>
                    <label for="contractType">Lo·∫°i h·ª£p ƒë·ªìng:</label>
                    <select id="contractType" name="contractType" required>
                        <option value="T·∫°o doanh thu">T·∫°o doanh thu</option>
                        <option value="T·∫°o chi ph√≠">T·∫°o chi ph√≠</option>
                    </select>
                    <label for="contractValue">Gi√° tr·ªã h·ª£p ƒë·ªìng:</label>
                    <input type="number" id="contractValue" name="contractValue" step="0.01" required>
                    <label for="startDate">Ng√†y b·∫Øt ƒë·∫ßu:</label>
                    <input type="date" id="startDate" name="startDate" required>
                    <label for="endDate">Ng√†y k·∫øt th√∫c:</label>
                    <input type="date" id="endDate" name="endDate" required>
                    <label for="status">Tr·∫°ng th√°i:</label>
                    <select id="status" name="status" required>
                        <option value="V·ª´a k√Ω h·ª£p ƒë·ªìng">V·ª´a k√Ω h·ª£p ƒë·ªìng</option>
                        <option value="ƒêang thi c√¥ng">ƒêang thi c√¥ng</option>
                        <option value="ƒêang nghi·ªám thu b√†n giao">ƒêang nghi·ªám thu b√†n giao</option>
                        <option value="ƒê√£ nghi·ªám thu b√†n giao ƒë∆∞a v√†o s·ª≠ d·ª•ng">ƒê√£ nghi·ªám thu b√†n giao ƒë∆∞a v√†o s·ª≠ d·ª•ng</option>
                        <option value="ƒêang trong th·ªùi gian b·∫£o h√†nh">ƒêang trong th·ªùi gian b·∫£o h√†nh</option>
                        <option value="ƒê√£ ho√†n th√†nh to√†n b·ªô nghƒ©a v·ª•">ƒê√£ ho√†n th√†nh to√†n b·ªô nghƒ©a v·ª•</option>
                        <option value="H·ª£p ƒë·ªìng b·ªã ch·∫•m d·ª©t d·ªü dang">H·ª£p ƒë·ªìng b·ªã ch·∫•m d·ª©t d·ªü dang</option>
                    </select>
                    <label for="description">M√¥ t·∫£:</label>
                    <textarea id="description" name="description"></textarea>
                    <button type="submit">‚ûï Th√™m h·ª£p ƒë·ªìng</button>
                </form>
            </div>
            <table id="contractTable">
                <thead>
                    <tr>
                        <th>D·ª± √°n</th>
                        <th>T√™n h·ª£p ƒë·ªìng</th>
                        <th>ƒê·ªëi t√°c</th>
                        <th>Lo·∫°i h·ª£p ƒë·ªìng</th>
                        <th>Gi√° tr·ªã</th>
                        <th>B·∫Øt ƒë·∫ßu</th>
                        <th>K·∫øt th√∫c</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>Doanh thu</th>
                        <th>Chi ph√≠</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="exportContracts">Xu·∫•t Excel</button>
        </section>

        <!-- Qu·∫£n l√Ω Doanh thu -->
        <section id="revenue">
            <h2>üí∞ Qu·∫£n l√Ω Doanh thu</h2>
            <div class="form-container">
                <form id="revenueForm">
                    <label for="revenueProject">D·ª± √°n:</label>
                    <select id="revenueProject" name="revenueProject" required></select>
                    <label for="revenueContract">H·ª£p ƒë·ªìng li√™n quan:</label>
                    <select id="revenueContract" name="revenueContract" required></select>
                    <label for="revenueAmount">S·ªë ti·ªÅn:</label>
                    <input type="number" id="revenueAmount" name="revenueAmount" step="0.01" required>
                    <label for="revenueDate">Ng√†y thu:</label>
                    <input type="date" id="revenueDate" name="revenueDate" required>
                    <label for="revenueType">Lo·∫°i doanh thu:</label>
                    <select id="revenueType" name="revenueType" required>
                        <option value="D·ªãch v·ª•">D·ªãch v·ª•</option>
                        <option value="S·∫£n ph·∫©m">S·∫£n ph·∫©m</option>
                        <option value="T∆∞ v·∫•n">T∆∞ v·∫•n</option>
                        <option value="Kh√°c">Kh√°c</option>
                    </select>
                    <label for="revenueNote">Ghi ch√∫:</label>
                    <textarea id="revenueNote" name="revenueNote"></textarea>
                    <button type="submit">‚ûï Th√™m doanh thu</button>
                </form>
            </div>
            <table id="revenueTable">
                <thead>
                    <tr>
                        <th>D·ª± √°n</th>
                        <th>H·ª£p ƒë·ªìng</th>
                        <th>S·ªë ti·ªÅn</th>
                        <th>Ng√†y thu</th>
                        <th>Lo·∫°i</th>
                        <th>Ghi ch√∫</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="exportRevenue">Xu·∫•t Excel</button>
        </section>

        <!-- Qu·∫£n l√Ω Chi ph√≠ -->
        <section id="expenses">
            <h2>üí∏ Qu·∫£n l√Ω Chi ph√≠</h2>
            <div class="form-container">
                <form id="expenseForm">
                    <label for="expenseProject">D·ª± √°n:</label>
                    <select id="expenseProject" name="expenseProject" required></select>
                    <label for="expenseContract">H·ª£p ƒë·ªìng li√™n quan:</label>
                    <select id="expenseContract" name="expenseContract" required></select>
                    <label for="expenseAmount">S·ªë ti·ªÅn:</label>
                    <input type="number" id="expenseAmount" name="expenseAmount" step="0.01" required>
                    <label for="expenseDate">Ng√†y chi:</label>
                    <input type="date" id="expenseDate" name="expenseDate" required>
                    <label for="expenseType">Lo·∫°i chi ph√≠:</label>
                    <select id="expenseType" name="expenseType" required>
                        <option value="V·∫≠t li·ªáu">V·∫≠t li·ªáu</option>
                        <option value="Nh√¢n c√¥ng">Nh√¢n c√¥ng</option>
                        <option value="V·∫≠n chuy·ªÉn">V·∫≠n chuy·ªÉn</option>
                        <option value="Marketing">Marketing</option>
                        <option value="VƒÉn ph√≤ng">VƒÉn ph√≤ng</option>
                        <option value="Kh√°c">Kh√°c</option>
                    </select>
                    <label for="expenseNote">Ghi ch√∫:</label>
                    <textarea id="expenseNote" name="expenseNote"></textarea>
                    <button type="submit">‚ûï Th√™m chi ph√≠</button>
                </form>
            </div>
            <table id="expenseTable">
                <thead>
                    <tr>
                        <th>D·ª± √°n</th>
                        <th>H·ª£p ƒë·ªìng</th>
                        <th>S·ªë ti·ªÅn</th>
                        <th>Ng√†y chi</th>
                        <th>Lo·∫°i</th>
                        <th>Ghi ch√∫</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="exportExpenses">Xu·∫•t Excel</button>
        </section>

        <!-- B√°o c√°o T√†i ch√≠nh -->
        <section id="reports">
            <h2>üìä B√°o c√°o T√†i ch√≠nh</h2>
            <div class="form-container">
                <form id="reportForm">
                    <label for="reportType">Lo·∫°i b√°o c√°o:</label>
                    <select id="reportType" name="reportType" required>
                        <option value="Theo th√°ng">Theo th√°ng</option>
                        <option value="Theo qu√Ω">Theo qu√Ω</option>
                        <option value="Theo nƒÉm">Theo nƒÉm</option>
                    </select>
                    <label for="reportPeriod">Th·ªùi gian:</label>
                    <input type="month" id="reportPeriod" name="reportPeriod" required>
                    <button type="submit">T·∫°o b√°o c√°o</button>
                </form>
            </div>
            <div id="reportSummary">
                <p>T·ªïng doanh thu: <span id="totalRevenue">0 ‚Ç´</span></p>
                <p>T·ªïng chi ph√≠: <span id="totalExpenses">0 ‚Ç´</span></p>
                <p>L·ª£i nhu·∫≠n: <span id="profit">0 ‚Ç´</span></p>
                <p>Thu·∫ø ph·∫£i n·ªôp (20%): <span id="tax">0 ‚Ç´</span></p>
            </div>
            <table id="reportDetails">
                <thead>
                    <tr>
                        <th>D·ª± √°n</th>
                        <th>S·ªë h·ª£p ƒë·ªìng</th>
                        <th>T·ªïng doanh thu</th>
                        <th>T·ªïng chi ph√≠</th>
                        <th>L·ª£i nhu·∫≠n</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="exportReports">Xu·∫•t Excel</button>
        </section>

        <!-- T·ªïng quan -->
        <section id="overview">
            <h2>üéØ T·ªïng quan H·ªá th·ªëng</h2>
            <div class="overview-stats">
                <p>T·ªïng d·ª± √°n: <span id="totalProjects">0</span></p>
                <p>T·ªïng h·ª£p ƒë·ªìng: <span id="totalContracts">0</span></p>
                <p>ƒêang th·ª±c hi·ªán: <span id="activeContracts">0</span></p>
                <p>Doanh thu th√°ng: <span id="monthlyRevenue">0 ‚Ç´</span></p>
                <p>L·ª£i nhu·∫≠n th√°ng: <span id="monthlyProfit">0 ‚Ç´</span></p>
            </div>
            <div id="overviewDetails" class="details-container">
                <h3>Chi ti·∫øt theo d·ª± √°n:</h3>
                <select id="overviewProject" name="overviewProject" onchange="updateOverviewDetails()">
                    <option value="">Ch·ªçn d·ª± √°n</option>
                </select>
                <table id="overviewDetailTable">
                    <thead>
                        <tr>
                            <th>S·ªë h·ª£p ƒë·ªìng</th>
                            <th>T·ªïng doanh thu</th>
                            <th>T·ªïng chi ph√≠</th>
                            <th>L·ª£i nhu·∫≠n</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="recent-contracts">
                <h3>üìà H·ª£p ƒë·ªìng g·∫ßn ƒë√¢y</h3>
                <ul id="recentContracts"></ul>
            </div>
            <div class="expiring-contracts">
                <h3>‚ö†Ô∏è H·ª£p ƒë·ªìng s·∫Øp h·∫øt h·∫°n</h3>
                <ul id="expiringContracts"></ul>
            </div>
            <button id="exportOverview">Xu·∫•t Excel</button>
        </section>

        <!-- Modal C·∫≠p nh·∫≠t Ti·∫øn ƒë·ªô -->
        <div id="progressModal" class="modal">
            <div class="modal-content">
                <span class="close">√ó</span>
                <h3>C·∫≠p nh·∫≠t tr·∫°ng th√°i h·ª£p ƒë·ªìng</h3>
                <form id="progressForm">
                    <label for="progressValue">Tr·∫°ng th√°i:</label>
                    <select id="progressValue" name="progressValue" required>
                        <option value="V·ª´a k√Ω h·ª£p ƒë·ªìng">V·ª´a k√Ω h·ª£p ƒë·ªìng</option>
                        <option value="ƒêang thi c√¥ng">ƒêang thi c√¥ng</option>
                        <option value="ƒêang nghi·ªám thu b√†n giao">ƒêang nghi·ªám thu b√†n giao</option>
                        <option value="ƒê√£ nghi·ªám thu b√†n giao ƒë∆∞a v√†o s·ª≠ d·ª•ng">ƒê√£ nghi·ªám thu b√†n giao ƒë∆∞a v√†o s·ª≠ d·ª•ng</option>
                        <option value="ƒêang trong th·ªùi gian b·∫£o h√†nh">ƒêang trong th·ªùi gian b·∫£o h√†nh</option>
                        <option value="ƒê√£ ho√†n th√†nh to√†n b·ªô nghƒ©a v·ª•">ƒê√£ ho√†n th√†nh to√†n b·ªô nghƒ©a v·ª•</option>
                        <option value="H·ª£p ƒë·ªìng b·ªã ch·∫•m d·ª©t d·ªü dang">H·ª£p ƒë·ªìng b·ªã ch·∫•m d·ª©t d·ªü dang</option>
                    </select>
                    <button type="submit">L∆∞u tr·∫°ng th√°i</button>
                </form>
            </div>
        </div>

        <!-- Modal S·ª≠a H·ª£p ƒë·ªìng -->
        <div id="editContractModal" class="modal">
            <div class="modal-content">
                <span class="close">√ó</span>
                <h3>S·ª≠a h·ª£p ƒë·ªìng</h3>
                <form id="editContractForm">
                    <label for="editProject">D·ª± √°n:</label>
                    <select id="editProject" name="editProject" required></select>
                    <label for="editContractName">T√™n h·ª£p ƒë·ªìng:</label>
                    <input type="text" id="editContractName" name="editContractName" required>
                    <label for="editPartner">ƒê·ªëi t√°c:</label>
                    <input type="text" id="editPartner" name="editPartner" required>
                    <label for="editContractType">Lo·∫°i h·ª£p ƒë·ªìng:</label>
                    <select id="editContractType" name="editContractType" required>
                        <option value="T·∫°o doanh thu">T·∫°o doanh thu</option>
                        <option value="T·∫°o chi ph√≠">T·∫°o chi ph√≠</option>
                    </select>
                    <label for="editContractValue">Gi√° tr·ªã h·ª£p ƒë·ªìng:</label>
                    <input type="number" id="editContractValue" name="editContractValue" step="0.01" required>
                    <label for="editStartDate">Ng√†y b·∫Øt ƒë·∫ßu:</label>
                    <input type="date" id="editStartDate" name="editStartDate" required>
                    <label for="editEndDate">Ng√†y k·∫øt th√∫c:</label>
                    <input type="date" id="editEndDate" name="editEndDate" required>
                    <label for="editStatus">Tr·∫°ng th√°i:</label>
                    <select id="editStatus" name="editStatus" required>
                        <option value="V·ª´a k√Ω h·ª£p ƒë·ªìng">V·ª´a k√Ω h·ª£p ƒë·ªìng</option>
                        <option value="ƒêang thi c√¥ng">ƒêang thi c√¥ng</option>
                        <option value="ƒêang nghi·ªám thu b√†n giao">ƒêang nghi·ªám thu b√†n giao</option>
                        <option value="ƒê√£ nghi·ªám thu b√†n giao ƒë∆∞a v√†o s·ª≠ d·ª•ng">ƒê√£ nghi·ªám thu b√†n giao ƒë∆∞a v√†o s·ª≠ d·ª•ng</option>
                        <option value="ƒêang trong th·ªùi gian b·∫£o h√†nh">ƒêang trong th·ªùi gian b·∫£o h√†nh</option>
                        <option value="ƒê√£ ho√†n th√†nh to√†n b·ªô nghƒ©a v·ª•">ƒê√£ ho√†n th√†nh to√†n b·ªô nghƒ©a v·ª•</option>
                        <option value="H·ª£p ƒë·ªìng b·ªã ch·∫•m d·ª©t d·ªü dang">H·ª£p ƒë·ªìng b·ªã ch·∫•m d·ª©t d·ªü dang</option>
                    </select>
                    <label for="editDescription">M√¥ t·∫£:</label>
                    <textarea id="editDescription" name="editDescription"></textarea>
                    <button type="submit">L∆∞u thay ƒë·ªïi</button>
                </form>
            </div>
        </div>

        <!-- Modal S·ª≠a Doanh thu -->
        <div id="editRevenueModal" class="modal">
            <div class="modal-content">
                <span class="close">√ó</span>
                <h3>S·ª≠a doanh thu</h3>
                <form id="editRevenueForm">
                    <label for="editRevenueProject">D·ª± √°n:</label>
                    <select id="editRevenueProject" name="editRevenueProject" required></select>
                    <label for="editRevenueContract">H·ª£p ƒë·ªìng li√™n quan:</label>
                    <select id="editRevenueContract" name="editRevenueContract" required></select>
                    <label for="editRevenueAmount">S·ªë ti·ªÅn:</label>
                    <input type="number" id="editRevenueAmount" name="editRevenueAmount" step="0.01" required>
                    <label for="editRevenueDate">Ng√†y thu:</label>
                    <input type="date" id="editRevenueDate" name="editRevenueDate" required>
                    <label for="editRevenueType">Lo·∫°i doanh thu:</label>
                    <select id="editRevenueType" name="editRevenueType" required>
                        <option value="D·ªãch v·ª•">D·ªãch v·ª•</option>
                        <option value="S·∫£n ph·∫©m">S·∫£n ph·∫©m</option>
                        <option value="T∆∞ v·∫•n">T∆∞ v·∫•n</option>
                        <option value="Kh√°c">Kh√°c</option>
                    </select>
                    <label for="editRevenueNote">Ghi ch√∫:</label>
                    <textarea id="editRevenueNote" name="editRevenueNote"></textarea>
                    <button type="submit">L∆∞u thay ƒë·ªïi</button>
                </form>
            </div>
        </div>

        <!-- Modal S·ª≠a Chi ph√≠ -->
        <div id="editExpenseModal" class="modal">
            <div class="modal-content">
                <span class="close">√ó</span>
                <h3>S·ª≠a chi ph√≠</h3>
                <form id="editExpenseForm">
                    <label for="editExpenseProject">D·ª± √°n:</label>
                    <select id="editExpenseProject" name="editExpenseProject" required></select>
                    <label for="editExpenseContract">H·ª£p ƒë·ªìng li√™n quan:</label>
                    <select id="editExpenseContract" name="editExpenseContract" required></select>
                    <label for="editExpenseAmount">S·ªë ti·ªÅn:</label>
                    <input type="number" id="editExpenseAmount" name="editExpenseAmount" step="0.01" required>
                    <label for="editExpenseDate">Ng√†y chi:</label>
                    <input type="date" id="editExpenseDate" name="editExpenseDate" required>
                    <label for="editExpenseType">Lo·∫°i chi ph√≠:</label>
                    <select id="editExpenseType" name="editExpenseType" required>
                        <option value="V·∫≠t li·ªáu">V·∫≠t li·ªáu</option>
                        <option value="Nh√¢n c√¥ng">Nh√¢n c√¥ng</option>
                        <option value="V·∫≠n chuy·ªÉn">V·∫≠n chuy·ªÉn</option>
                        <option value="Marketing">Marketing</option>
                        <option value="VƒÉn ph√≤ng">VƒÉn ph√≤ng</option>
                        <option value="Kh√°c">Kh√°c</option>
                    </select>
                    <label for="editExpenseNote">Ghi ch√∫:</label>
                    <textarea id="editExpenseNote" name="editExpenseNote"></textarea>
                    <button type="submit">L∆∞u thay ƒë·ªïi</button>
                </form>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
